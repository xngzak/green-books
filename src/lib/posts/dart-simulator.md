---
title: "ダーツの期待値求めてみた"
date: "2021-6-30"
categories:
  - "自由研究"
  - "JavaScript"
coverImage: "/images/dart-simulator.png"
coverWidth: 16
coverHeight: 9
pageView: 9
excerpt: 中心を狙うよりも高得点がとれる場所があったという話
---

![alt](/images/post-images/pic1345.webp)

ダーツの**最高得点が中心(ブル)の50点ではない**ことは有名です。

トリプルリングでは3倍の加点となるため**最高得点は20トリプル(T20)の60点**となります。しかしT20は面積が小さい上1,5と隣接しており、外した時の代償も大きい。そんなゲームバランスになっていますね。

<div class="toc"/>

- [中心を照準するより効率がいい場所](#中心を照準するより効率がいい場所)
- [問題](#問題)
- [方法](#方法)
  - [(1) ブルを照準した場合　平均点は396点](#1-ブルを照準した場合平均点は396点)
  - [(2) T20を照準した場合　平均点は361点](#2-t20を照準した場合平均点は361点)
    - [隣接2得点の平均最大(7-19)　平均点は398点](#隣接2得点の平均最大7-19平均点は398点)
    - [隣接3得点の平均最大(16-7-19)　平均点は396点](#隣接3得点の平均最大16-7-19平均点は396点)
  - [(3)結論と命中率毎の戦略](#3結論と命中率毎の戦略)
- [あとがき](#あとがき)


## 中心を照準するより効率がいい場所

ダーツの**得点配置にはばらつきがあります**。  
隣接する2得点の平均は{ 10.5, 12.5, 8.5, 10.5, 11.5, 12.5, 9.5, 12, 11.5, 13, 11, 10, 9.5, 8.5, 12.5, 8, 9, 8, 11, 9,5 }となっており、**7,19間が最も平均が高い**です。隣接した3得点の平均を取ると16-7-19の平均が最も高いです。ブル外周の平均が10.5点に対して平均13の7,19トリプル付近を狙った方が高そうだと思いませんか。(T19に入れば57点＞50点)

主張は**ばらつき具合によっては中心を狙うよりも高得点がとれる場所があるかもしれない**。ということ。「結局はブルを狙った方がいい」なんてオチでもそれはそれで面白いと思いました。

上達を目指すにはひたすらブルを狙う練習をした方がいいことは自明ですが、命を賭けた大勝負に巻き込まれた時、あなたの狙う最適な場所は真ん中ではないかもしれません。結論を急ぐ方は目次から飛べます。

さて、整理のため次のような問題にしてみました。
(寸法の規格が見つからなかったため自宅のソフトダーツボードを測量したものを使います。)

## 問題

カウントアップの期待値を求めたい。

(1)ブルを狙って1ゲーム投げる場合の点数の期待値を求めよ。
(2)T20を狙って1ゲーム投げる場合の点数の期待値を求めよ。
(3)最も高い期待値をとる狙い目はどこか求めよ。

条件は以下の通りとする。

```
・中心からの距離r(mm)
　　ブル　　：　0≤r<22
　　トリプル：　106≤r<124
　　ダブル　：　179≤r<197
・ダーツの刺さる位置は照準する座標を平均とした2変量正規分布に従うとする。
・σx=40,σy=40とする(ブルの命中率14.1%程度)。
・確率変数X,Yは独立とする。(相関係数ρ=0)
・1ゲームは24回投げることができる。
```

## 方法

確率密度関数の重積分で数学的に期待値を求めることも可能なようですが、大学教養範囲までの知識しかなく挫折。数強の方お願いします。今回はJavaScriptで**ダーツのシミュレータを作ってデータを集めます**。ダーツボードや予想範囲等の図形はgraphics.jsを使いました。ばらつきの可視化のためchart.jsを使ってヒストグラムにしました。**[こちら](https://xiang.jp/dart_simulator)で公開**しているので実際に投げることができます。

今回は**1万ゲーム投げた得点の平均を照準点・標準偏差毎に表にします**。

### (1) ブルを照準した場合　平均点は396点

![alt](/images/post-images/pic1346.webp)

![alt](/images/post-images/pic1347.webp)

セパレートブルというルール　平均点は327点

実はブルの外側を25点とするルールがあって50点の範囲がより狭くなります。大会でT20が狙われているなと思ったらだいたいこのルールです。

![alt](/images/post-images/pic1348.webp)

### (2) T20を照準した場合　平均点は361点

![alt](/images/post-images/pic1349.webp)

![alt](/images/post-images/pic1350.webp)

#### 隣接2得点の平均最大(7-19)　平均点は398点

![alt](/images/post-images/pic1351.webp)

![alt](/images/post-images/pic1352.webp)

#### 隣接3得点の平均最大(16-7-19)　平均点は396点

![alt](/images/post-images/pic1353.webp)

![alt](/images/post-images/pic1354.webp)

### (3)結論と命中率毎の戦略

以下命中率毎の1万ゲームの平均点です。

![alt](/images/post-images/pic1355.webp)

なんと仮定の正確さ(ブル命中率14.1%)で投げ続けた場合、**T7とT19の間を狙うのが最も高い点数**を取ることができました。これは7本投げて1本命中する正確さで、練習し始めといったところでしょうか。

上達してきて6本に1本命中するようになるまではブルを狙う戦略は最適解ではないということです。

一方、最高点であるT20を狙うのはどうでしょう。表を読み解くと**91%の命中率があってもブルを狙う方が期待値が高い**です。以下の記事によるとブル率91%とはレーティング18以上。プロレベルです。

[ブル率を全レーティングで計算してみた](https://1-bull.info/darts/basic-theory/ratio-of-bull/)

セパレートブルでない場合はブル率90%(プロレベル)であってもT20を狙うのはおこがましいということが分かりました。

さらに面白いことに**セパレートブルルールにおいては、3本に1本の正確さ(レーティング8程度)であっても、ブルやT20を狙うよりもT7とT19の間を狙うのが最適な戦略**といえます。

## あとがき

はじめから分かっていましたがダーツの分布なんて分かりっこないです。筆者は下ブレが激しく緊張すると右上に外れる傾向があります。日によっても調子がバラバラです。統計を無視した逆転のワンチャン勝負に賭ける瞬間も当然あります。そんなことを言っても無粋ですからできる限り一般的な結果を調べました。

しかし何が一般的かも難解です。ダーツの確率はコーシー分布に従うという記事を見つけましたが統計に疎く今回は正規分布を採用しました。勉強しておきます。

ここまで読んでくださりありがとうございました。
